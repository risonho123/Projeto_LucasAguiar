@page "/fornecedores"

@using LucasAguiar.Configs
@using LucasAguiar.Models
@inject FornecedorDAO fornecedorDAO

<PageTitle>Fornecedores</PageTitle>

<h1 class="text-xl font-semibold text-gray-800 dark:text-gray-100 mb-6">Lista de Fornecedores</h1>

<NavLink href="/fornecedores/novo" class="btn btn-sm btn-primary mb-3">Novo Fornecedor</NavLink>

<table class="table table-striped">
    <thead>
        <tr>
            <th>#</th>
            <th>Nome</th>
            <th>Email</th>
            <th>Telefone</th>
            <th>Tipo de Produto</th>
        </tr>
    </thead>
    <tbody>
        @{
            int contador = 1;
        }

        @foreach (var fornecedor in listaFornecedores)
        {
            <tr>
                <td>@contador</td>
                <td>@fornecedor.NomeFornecedor</td>
                <td>@fornecedor.Email</td>
                <td>@fornecedor.Telefone</td>
                <td>@fornecedor.TipoProd</td>
            </tr>
            contador++;
        }
    </tbody>
</table>
<style>/* Tema Laranja para Listagem de Fornecedores */
body {
    background-color: #fffaf3;
    font-family: 'Segoe UI', sans-serif;
    color: #333;
}

h1 {
    font-size: 1.8rem;
    font-weight: bold;
    color: #e67e22;
    margin-bottom: 20px;
    border-bottom: 2px solid #e67e22;
    padding-bottom: 10px;
}

.btn-primary {
    background-color: #e67e22;
    border: none;
    color: white;
    font-weight: bold;
    padding: 8px 16px;
    border-radius: 5px;
    text-decoration: none;
    transition: background-color 0.3s ease;
}

.btn-primary:hover {
    background-color: #d35400;
}

.table {
    width: 100%;
    border-collapse: collapse;
    background-color: #fff;
    box-shadow: 0 0 10px rgba(0,0,0,0.05);
}

.table th {
    background-color: #f39c12;
    color: white;
    padding: 12px;
    text-align: left;
}

.table td {
    padding: 10px;
    border-bottom: 1px solid #f0f0f0;
}

.table-striped tr:nth-child(even) {
    background-color: #fdf2e9;
}

.table-striped tr:hover {
    background-color: #fdebd0;
}

.mb-3 {
    margin-bottom: 1rem;
}
</style>
@code {
    private List<Fornecedor> listaFornecedores = new();

    private void CarregarFornecedores()
    {
        listaFornecedores = fornecedorDAO.ListarTodos();
    }

    protected override void OnInitialized()
    {
        CarregarFornecedores();
    }
}
